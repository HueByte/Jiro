# Jiro Docker Compose Environment Variables
# Copy this file to .env and fill in your values

# ======================
# Docker Ports Configuration
# ======================
JIRO_HTTP_PORT=8080
JIRO_HTTPS_PORT=8443
JIRO_ADDITIONAL_PORT=18090

# ======================
# MySQL Database Configuration
# ======================
DB_SERVER=mysql
MYSQL_DATABASE=jiro
MYSQL_USER=jiro
MYSQL_PASSWORD=your-secure-password-here
MYSQL_ROOT_PASSWORD=your-root-password-here
MYSQL_PORT=3306

# MySQL Health Check Configuration
MYSQL_HEALTH_CHECK_INTERVAL=30s
MYSQL_HEALTH_CHECK_TIMEOUT=10s
MYSQL_HEALTH_CHECK_RETRIES=3
MYSQL_HEALTH_CHECK_START_PERIOD=40s

# ======================
# Jiro Application Configuration (JIRO_ prefix)
# ======================
# These environment variables will override values in appsettings.json
# Uncomment and customize as needed

# Application API Configuration (required)
# JIRO_ApiKey=your-api-key-here
# JIRO_JiroApi=https://your-jiro-api-url-here

# Custom Data Paths (optional - uncomment to customize)
# JIRO_DataPaths__Logs=Data/Logs
# JIRO_DataPaths__Themes=Data/Themes
# JIRO_DataPaths__Plugins=Data/Plugins
# JIRO_DataPaths__Messages=Data/Messages

# OpenAI Configuration (required for AI features)
# OPENAI_API_KEY=sk-your-openai-api-key-here


# ======================
# Advanced JIRO_ Configuration Overrides
# ======================
# You can override ANY appsettings.json value using JIRO_ prefix

# Database Connection String
# JIRO_ConnectionStrings__JiroContext=your-custom-connection-string

# Chat/AI Configuration
# JIRO_Chat__AuthToken=sk-your-openai-key
# JIRO_Chat__Model=gpt-4
# JIRO_Chat__TokenLimit=4000


# Serilog Logging Configuration
# JIRO_Serilog__WriteTo__1__Args__path=Data/Logs/custom-detailed_.txt
# JIRO_Serilog__WriteTo__2__Args__path=Data/Logs/custom-errors_.txt
# JIRO_Serilog__MinimumLevel__Default=Warning
# JIRO_Serilog__MinimumLevel__Override__Microsoft=Warning
# JIRO_Serilog__MinimumLevel__Override__System=Warning

# ======================
# Environment Variable Pattern Documentation
# ======================
# With JIRO_ prefix configuration, use the pattern: JIRO_SECTION__SUBSECTION__KEY
# It causes the configuration system to override the corresponding section in appsettings.json.
# Double underscores (__) are converted to colons (:), matching the config path.
# .NET will:
# Match the prefix: ✅ Jiro_
# Strip it → becomes WebSocket__ApiKey
# Map WebSocket__ApiKey → WebSocket:ApiKey

Override the JSON value.
# Examples:
# - JIRO_ConnectionStrings__JiroContext (overrides ConnectionStrings.JiroContext)
# - JIRO_Chat__AuthToken (overrides Chat.AuthToken)
# - JIRO_DataPaths__Logs (overrides DataPaths.Logs)
# - JIRO_Serilog__WriteTo__1__Args__path (overrides Serilog.WriteTo[1].Args.path)